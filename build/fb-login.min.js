!function(t){"use strict";!function(t,n,e){var i,o=t.getElementsByTagName(n)[0];t.getElementById(e)||(i=t.createElement(n),i.id=e,i.src="//connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(i,o))}(document,"script","facebook-jssdk"),t.fn.visible=function(){return this.css("visibility","visible")},t.fn.invisible=function(){return this.css("visibility","hidden")};var n="fbStatusChanged";!function(){t.fn.fb_subscribe=function(e){function i(t,n){var e=t.find(c.options);e.hide(),n&&"connected"===n&&e.show()}function o(t,n){var e;e="connected"===n?c.loginMessage:"not_authorized"===n?c.notAuthorizeMessage:c.notLoggedinMessage;var i=t.find(c.message);i.text(e),i.show()}function s(n){return function(e,s){var r=t(s);i(r,n),o(r,n)}}function r(){a.find(c.newsletter).change(function(){t.fb_subscriptions.subscribeNewsletter(this.checked)}),a.find(c.offers).change(function(){t.fb_subscriptions.subscribeOffers(this.checked)})}var a=this,c=t.extend(t.fn.fb_subscribe.defaultOptions,e);return t(document).on(n,function(n,e){a.each(s(e.status)).visible(),"connected"===e.status&&t.fb_subscriptions.get().then(function(t){a.find(c.newsletter).prop("checked",0!==t),a.find(c.offers).prop("checked",0!==t),r()})}),this.each(s(null))},t.fn.fb_subscribe.defaultOptions={notLoggedinMessage:"Please log into Facebook.",notAuthorizeMessage:"Please log into this app.",loginMessage:"You are logged in.",options:".permissions-container",newsletter:".newsletter-option",offers:".offers-option",message:".status-message"}}(),function(){function e(e){"connected"!==e.status?r=a=null:(r=e.authResponse.userID,a=e.authResponse.accessToken),t(document).trigger(n,e)}function i(t){FB.init({appId:t,cookie:!0,xfbml:!0,version:"v2.1",status:!0}),FB.getLoginStatus(e),FB.Event.subscribe("auth.authResponseChange",e)}function o(n){return c+"?"+t.param(n)}function s(){var n=t.Deferred();return n.reject(new Error("Unknown Facebook ID.")),n}var r,a,c="http://simulation.dk/other/sumo/checkUser.php",u=null;t.event.special[n]={add:function(t){u&&t.handler(u.event,u.data)},trigger:function(t,n){u={event:t,data:n}}},t.fb_init=function(t){"undefined"!=typeof FB?i(t):window.fbAsyncInit=function(){i(t)}};t.fb_subscriptions={get:function(){return r?t.getJSON(o({op:0,id:r,token:a})):s()},subscribeNewsletter:function(n){return r?t.get(o({op:1,id:r,token:a,val:n?1:0})):s()},subscribeOffers:function(n){return r?t.get(o({op:1,id:r,token:a,val:n?1:0})):s()}}}(),function(){function e(n){var e=t(".lockable-content");if(n){e.addClass("unlockable");var r=t(s);r.remove()}else e.removeClass("unlockable"),e.each(function(n,e){var s=t(e),r=s.parent(),a=t("<div/>").addClass(o);a.height(s.height()),a.width(s.width()),r.append(a);var c=setInterval(function(){a.height()>100&&a.width()>100&&(a.append(i),a.find(".facebook-login").fb_login(),clearInterval(c))},50)}),e.resize(function(n){{var e=t(n.target),i=e.parent(),o=i.offset(),r=e.height(),a=e.width();o.top+"px",o.left+"px"}i.find(s).css({width:a,height:r})})}var i=t("#fb-login-button").html(),o="overlay",s="."+o;t.fn.fb_lockable=function(){return t(document).on(n,function(t,n){var i="connected"===n.status;e(i)}),this.each(function(){var n=t(this);0===n.find(".lockable-content").length&&n.find("> :first-child").addClass("lockable-content")})}}(),function(){t.fn.fb_login=function(){var e=this,i=!1;return this.invisible(),t(document).on(n,function(n,o){var s=t.fn.fb_login.defaultOptions;i="connected"===o.status;var r=i?"logout":"login",a=s[r];t(e.selector).find(s.text).text(a),e.visible()}),this.on("click",function(t){t.preventDefault(),i?FB.logout():FB.login(null,{scope:"public_profile,email"})}),this},t.fn.fb_login.defaultOptions={login:"Log In",logout:"Log Out",text:".sc-text"}}(),function(){function n(){var n=t(this),i=null,o=n.data("url"),s=n.data("title");History.pushState(i,s,o);var r=t(t.fn.fb_scroll.defaultOptions.shareButton);t.each(e,function(t,e){var i="data-"+e;r.attr(i,n.attr(i))}),t.fn.fb_scroll.defaultOptions.shareButtonText(r,s)}var e=["url","title","image","description"],i={continuous:!1,offset:"50%",handler:n},o={continuous:!1,offset:function(){var n=t.waypoints("viewportHeight");return n/2-t(this).outerHeight()},handler:n};t.fn.fb_scroll=function(){var n=this.selector;return t(n).waypoint(i),t(n).waypoint(o),this},t.fn.fb_scroll.defaultOptions={shareButton:"#share",shareButtonText:function(t,n){t.html("Del "+n)}}}()}(jQuery);